# 分析片源

还记得在”什么是压制“篇中提到的分析片源吗？我们先从这里着手开始

## 使用MediaInfo查看视频信息

假设我们已经安装好了MediaInfo，那么我们随便找一个媒体文件右键选择MediaInfo，就会弹出MediaInfo的界面：

![&#x4E00;&#x4E2A;M2TS&#x6587;&#x4EF6;&#x7684;Mediainfo](https://i.v2ex.co/YP5t51f0.png)

MediaInfo第一页上会呈现出大致的轨道信息，音频与视频都有，而我们选择上方的View，并选择Text，就可以进入到详细查看每一项参数的界面了。

### 视频轨：

![&#x89C6;&#x9891;&#x8F68;&#x4FE1;&#x606F;](https://i.v2ex.co/c9HR2Io7.png)

这是某一部动画的原盘特典，在视频部分我们可以看到的有：视频的基本信息，包括了码率，分辨率，色彩位深，色度采样，帧率等信息，当然我们最要关注的还是红框里的Scan type，如果它是Interleaved（交错）的话，那么就需要格外注意是否要进行一定的反交错处理**（但是就算是Progressive也有可能会需要反交错的）**，这类问题要具体例子具体分析，单单看这里是不够的，但是这足够提醒你：这部片可能有交错现象，需要额外观察。

### 音频轨：

其实这里倒是没什么特殊的，但是我非要把视频拿出来讲，音频总得要有吧，顺带说说重复音轨的事儿

![&#x97F3;&#x9891;&#x8F68;&#x4FE1;&#x606F;](https://i.v2ex.co/xxIgG1Co.png)

有的时候BDMV里会有两条音轨，有的时候他们是5.1/2.1等多声道音轨，有的时候它们是评论轨，有的时候它们虽然听上去一样，但是说不定有哪里不一样的，也有的时候……它们就是一模一样的。

我个人快速判断音频是否重复的方法就是：用[RapidCRC](http://rapidcrc.sourceforge.net/)这类软件，对提取的俩音轨进行hash计算，看这些音轨的CRC32是否一样，如果CRC32一样那绝对就是一模一样了。

这些音轨可能体积会非常巨大，所以需要自行判断成品中是否附带上去，是否需要使用无损编码以缩减体积

### 字幕轨：

有些时候bdmv会附带PGS字幕（一种用图片做的字幕）

![pgs&#x4E00;&#x4F8B;](https://i.v2ex.co/hYwiyU42.png)

看到这种还是一样，自己取舍要不要封装的时候带上

## 章节信息

![](https://i.v2ex.co/z33I44gJ.png)

有的时候原盘会附上章节信息，方便大家快速跳过op、ed或者是跳到某段特定的剧情，这些信息通常在原盘中是分开存储的，我打算在这里把它们分为章节时间信息和章节名两部分来讲

### 章节时间信息：

原盘的章节时间信息一般都存在`PLAYLIST`文件夹里，以mpls形式存放，我们直接用notepad之类文本编辑器打开它是看不到什么有用信息的，因为它是二进制流组成的，所以我们需要使用工具：ChapterTool或MeGUI来提取他们：

![](https://i.v2ex.co/KAr2zoYB.png)

我们在这里读取了一个mpls文件，可以读取到所有章节信息，到这一步可以直接用保存来保存一个可以封装用的章节文件了，但是你也应该发现了，这些章节没有名字，那么名字去哪了呢？

### 章节名：

其实做到上一步就已经很好了，差不多够了。但是如果你想更近一步，非常有爱还会一点别的语言的话（比如日语），那可以自己找出这些章节名。

那么章节名在哪里呢？他们都在BDMV STREAM中那些你没法播放的文件：

![](https://i.v2ex.co/n27KiTld.png)

反正windows都没法生成略缩图，肯定就是它们几个啦

这些文件一般MediaInfo只能看到有一个PGS轨道，视频音频完全没有的，我们需要[IGSTools](../shen-yi-yang-de-gong-ju-men/zong-he-gong-ju.md#igstools)这个工具来提取里面的图片信息，我们打开终端，输入：

```text
igstopng 00005.m2ts
```

然后如果没出错的话，M2TS所在文件夹会多出一堆的图片，这些图片就是隐藏的章节名所在的地方啦，以《青春猪头做梦梦到兔女郎学姐》剧场版来说，就是这样的：



![](https://i.v2ex.co/TLi7G145.png)

然后如果你会日语，你可以在ChapterTools里面把这些章节名填进去，再保存，就有了一个拥有章节名的章节文件啦！~~（什么，你不会日语？打开谷歌翻译用手写输入又不是不可以）~~

![&#x5C31;&#x50CF;&#x8FD9;&#x6837;&#x586B;&#xFF01;](https://i.v2ex.co/0srbI55Z.png)



